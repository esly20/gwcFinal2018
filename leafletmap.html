<html>
    <head>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/leaflet.css" />

        <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/leaflet.js"></script>
        <script src="https://www.mapquestapi.com/sdk/leaflet/v2.2/mq-map.js?key=lYrP4vF3Uk5zgTiGGuEzQGwGIVDGuy24"></script>
        <script src="https://www.mapquestapi.com/sdk/leaflet/v2.2/mq-routing.js?key=lYrP4vF3Uk5zgTiGGuEzQGwGIVDGuy24"></script>

        <script type="text/javascript">
            window.onload = function() {

                var map,
                    dir;

                map = L.map('map', {
                    layers: MQ.mapLayer(),
                    center: [ 40.720530, -73.997338 ],
                    zoom: 9
                });

                dir = MQ.routing.directions()
                    .on('success', function(data) {
                        var legs = data.route.legs,
                            html = '',
                            maneuvers,
                            i;

                        if (legs && legs.length) {
                            maneuvers = legs[0].maneuvers;

                            for (i=0; i<maneuvers.length; i++) {
                                html += (i+1) + '. ';
                                html += maneuvers[i].narrative + '<br/>';
                            }

                            L.DomUtil.get('route-narrative').innerHTML = html;
                        }
                    });

                dir.route({
                    locations: [
                      prompt("Please enter your starting address:", "(ex. 200 West street)"),
                        '3800 30TH ST'
                    ]
                });

                map.addLayer(MQ.routing.routeLayer({
                    directions: dir,
                    fitBounds: true
                }));
            }
        </script>

    </head>

    <body style='border:0; margin: 0'>
        <div id='map' style='width: 100%; height:530px;'></div>
        <div id='route-narrative' style='margin-top:20px;'></div>
    </body>
</html>
